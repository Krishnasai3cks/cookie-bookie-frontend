(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(36),c=n.n(r),o=n(13),i=n(80),s=n(16),l=n(15),u=n(233),j=n(235),d=n(211),p=n(234),b=n(236),O=n(19),h="CREATE",m="FETCH_ALL",g="LOGIN",x="LOGOUT",f="REGISTER",v="PLACE_BID",y="REMOVE_BID",S="LOADING",k="LOADED",w=n(103),C=n(222),B=Object(C.a)((function(e){return{toolBar:{display:"flex",justifyContent:"space-between"}}})),E=Object(a.createContext)({}),I=n(1),T=function(){var e=B(),t=Object(O.b)(),n=Object(a.useContext)(E),r=n.user,c=n.setUser,o=Object(s.g)(),i=Object(s.f)(),h=r&&("Seller"===r.result.role||"Both"===r.result.role&&"Seller"===r.currentRole),m=function(){t({type:x}),i.push("/user/login"),c(null)};return Object(a.useEffect)((function(){var e=null===r||void 0===r?void 0:r.token;e&&(1e3*Object(w.a)(e).exp<(new Date).getTime()&&m());c(JSON.parse(localStorage.getItem("profile")))}),[o]),Object(I.jsxs)("div",{children:[Object(I.jsx)(d.a,{}),Object(I.jsx)(u.a,{position:"static",children:Object(I.jsxs)(p.a,{className:e.toolBar,children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("a",{href:"/posts",children:Object(I.jsx)(j.a,{variant:"contained",color:"secondary",children:"View Posts"})}),r?Object(I.jsxs)(I.Fragment,{children:[h?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("a",{href:"/posts/create",children:Object(I.jsx)(j.a,{variant:"contained",color:"secondary",children:"Create Post"})}),Object(I.jsx)("a",{href:"/posts/viewAuctions",children:Object(I.jsx)(j.a,{variant:"contained",color:"secondary",children:"View OnGoing Auctions"})})]}):Object(I.jsx)(I.Fragment,{}),Object(I.jsx)("a",{href:"/user/updateProfile",children:Object(I.jsx)(j.a,{variant:"contained",color:"secondary",children:"Update Profile"})}),Object(I.jsx)(j.a,{variant:"contained",color:"error",onClick:m,children:"Logout"}),Object(I.jsxs)(b.a,{variant:"span",color:"inherit",sx:{flexGrow:1},noWrap:!0,children:["Welcome ",r.result.fullname,"!"]})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("a",{href:"/user/login",children:Object(I.jsx)(j.a,{variant:"contained",color:"success",children:"login"})}),Object(I.jsx)("a",{href:"/user/register",children:Object(I.jsx)(j.a,{variant:"contained",color:"success",children:"register"})})]})]}),Object(I.jsx)(I.Fragment,{children:r&&"Both"===r.result.role?Object(I.jsxs)(j.a,{variant:"contained",color:"secondary",onClick:function(){localStorage.setItem("profile",JSON.stringify(Object(l.a)(Object(l.a)({},r),{},{currentRole:"Buyer"===r.currentRole?"Seller":"Buyer"}))),c(JSON.parse(localStorage.getItem("profile")))},children:["Switch to ","Buyer"===r.currentRole?"Seller":"Buyer"]}):Object(I.jsx)(I.Fragment,{})})]})})]})},N=n(20),q=n.n(N),A=n(34),P=n(106),D=n.n(P).a.create({baseURL:"http://localhost:3001"});D.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var F=function(){return D.get("/posts")},L=function(e){return D.post("/posts/like",e)},R=function(e,t,n){return D.post("/posts/placeBid",{postId:e,userId:t,value:n})},_=function(e,t){return D.post("/posts/removeBid",{postId:e,userId:t})},G=function(e){return D.post("/user/login",e)},J=function(e){return D.post("/user/register",e)},V=function(){var e=Object(O.b)(),t=Object(s.f)();Object(s.g)(),Object(O.c)((function(e){return e.user}));return Object(I.jsx)("div",{children:Object(I.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=n.target.elements;e(function(e,t){return function(){var n=Object(A.a)(q.a.mark((function n(a){var r,c;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G(e);case 3:r=n.sent,c=r.data,a({type:g,payload:c}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}({username:a.username.value,password:a.password.value},t))},children:[Object(I.jsx)("input",{type:"text",name:"username"}),Object(I.jsx)("input",{type:"password",name:"password"}),Object(I.jsx)("input",{type:"submit",value:"Submit"})]})})},M=n(4),z={fullname:"",username:"",phone:"",email:"",password:"",role:"",nameOfBusiness:"",GSTIN:"",location:""},U=function(){var e=Object(O.b)(),t=Object(s.f)(),n=Object(a.useState)(z),r=Object(o.a)(n,2),c=r[0],i=r[1],u=function(e){i(Object(l.a)(Object(l.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))};return Object(I.jsxs)("form",{method:"post",onSubmit:function(n){n.preventDefault(),e(function(e,t){return function(){var n=Object(A.a)(q.a.mark((function n(a){var r,c;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J(e);case 3:r=n.sent,c=r.data,a({type:f,payload:c}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(c,t))},children:[Object(I.jsx)("input",{name:"fullname",type:"text",id:"fullname",placeholder:"Full name",autoComplete:"off",onChange:u,maxLength:30,required:!0}),Object(I.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"username",pattern:"[a-zA-Z0-9]{3,12}",required:!0,onChange:u}),Object(I.jsx)("input",{name:"phone",type:"tel",id:"phone",placeholder:"888888888",pattern:"[0-9]{10}",autoComplete:"off",maxLength:12,required:!0,onChange:u}),Object(I.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"email(optional)",onChange:u,required:!0}),Object(I.jsx)("input",{name:"password",type:"password",id:"password1",placeholder:"Four Digit Pin",autoComplete:"off",required:!0,onChange:u}),Object(I.jsx)("h1",{children:" Enter Your Role"}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Seller",id:"Seller",onChange:u,required:!0}),"Seller"]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Buyer",id:"Buyer",onChange:u,required:!0})," ","Buyer"]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Both",id:"Both",onChange:u,required:!0})," ","Both"]}),""!==c.role&&"Buyer"!==c.role?Object(I.jsxs)("div",{id:"sellerSpecial",children:[Object(I.jsx)("h1",{children:"Additional info(only for sellers)"}),Object(I.jsx)("input",{type:"text",name:"nameOfBusiness",id:"nameOfBusiness",placeholder:"Name of Business",onChange:u}),Object(I.jsx)("input",{type:"text",name:"GSTIN",id:"GSTIN",placeholder:"GSTIN Number",pattern:"[A-Z0-9]{8}",onChange:u}),Object(I.jsx)("input",{type:"text",name:"location",id:"location",placeholder:"location",required:!0,onChange:u})]}):Object(I.jsx)("div",{}),Object(I.jsx)("input",{type:"submit",value:"Submit"})]})},H=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile")).result),t=Object(o.a)(e,1)[0],n=Object(a.useState)(t),r=Object(o.a)(n,2),c=r[0],i=r[1];Object(a.useEffect)((function(){console.log(c)}),[c]);return Object(I.jsxs)("form",{method:"post",onSubmit:function(e){console.log(e.target.elements)},children:[Object(I.jsx)("input",{name:"fullname",type:"text",id:"fullname",defaultValue:c.fullname,onChange:function(e){i(Object(l.a)(Object(l.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))},placeholder:"Full name",autoComplete:"off",maxLength:30,required:!0}),Object(I.jsx)("input",{type:"text",name:"username",id:"username",defaultValue:c.username,placeholder:"username",pattern:"[a-zA-Z0-9]{3,12}",required:!0}),Object(I.jsx)("input",{name:"phone",type:"tel",id:"phone",defaultValue:c.phone,placeholder:"888888888",pattern:"[0-9]{10}",autoComplete:"off",maxLength:12,required:!0}),Object(I.jsx)("input",{type:"email",name:"email",id:"email",defaultValue:c.email,placeholder:"email(optional)"}),Object(I.jsx)("input",{name:"password",type:"password",id:"password1",defaultValue:c.password,placeholder:"Four Digit Pin",autoComplete:"off",required:!0}),Object(I.jsx)("h1",{children:" Enter Your Role"}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Seller",id:"Seller",onChange:function(e){return i(Object(l.a)(Object(l.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))},checked:"Seller"===c.role,required:!0}),"Seller"]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Buyer",id:"Buyer",onChange:function(e){return i(Object(l.a)(Object(l.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))},checked:"Buyer"===c.role,required:!0})," ","Buyer"]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"role",value:"Both",id:"Both",checked:"Both"===c.role,onChange:function(e){return i(Object(l.a)(Object(l.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))},required:!0})," ","Both"]}),""!==c.role&&"Buyer"!==c.role?Object(I.jsxs)("div",{id:"sellerSpecial",children:[Object(I.jsx)("h1",{children:"Additional info(only for sellers)"}),Object(I.jsx)("input",{type:"text",name:"nameOfBusiness",id:"nameOfBusiness",defaultValue:c.nameOfBusiness,placeholder:"Name of Business"}),Object(I.jsx)("input",{type:"text",name:"GSTIN",id:"GSTIN",defaultValue:c.GSTIN,placeholder:"GSTIN(capital only)",pattern:"[A-Z0-9]{8}"}),Object(I.jsx)("input",{type:"text",name:"location",id:"location",defaultValue:c.location,placeholder:"location",required:!0})]}):Object(I.jsx)("div",{}),Object(I.jsx)("input",{type:"submit",value:"Submit"})]})},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/posts";return function(){var n=Object(A.a)(q.a.mark((function n(a){var r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F();case 3:r=n.sent,a({type:S}),a({type:m,payload:r.data}),a({type:k}),e.push(t),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},Z=n(246),Y=n(225),K=n(245),Q=n(226),X=n(227),$=n(221),ee=n(228),te=n(247),ne=n(224),ae=n(230),re=n(17),ce=n(237),oe=n(238),ie=n(231),se=n(239),le=n(240),ue=n(241),je=n(242),de=n(51),pe=n(216),be=n(217),Oe=n(218),he=n(219),me=n(220),ge=Object(C.a)((function(e){return{individualCards:{backgroundColor:"white"},description:{overflowY:"scroll",maxHeight:"150px"}}})),xe=n(3),fe=n(212),ve=n(109),ye=Object(xe.a)((function(e){return Object(I.jsx)(ve.a,Object(l.a)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(fe.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function Se(e){var t=e.post,n=a.useState(null),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Boolean(c),u=function(){i(null)},d=a.useContext(E),p=d.user,h=d.setUser;a.useEffect((function(){window.addEventListener("storage",(function(){h(JSON.parse(localStorage.getItem("profile"))||[])}))}),[]);var m=a.useState(t.likes),g=Object(o.a)(m,2),x=g[0],f=g[1],S=ge(),k=Object(O.b)(),w=Object(s.f)(),C=t.highestBid?parseInt(t.highestBid)+1:t.minAskingPrice;return Object(I.jsx)(ae.a,{item:!0,sx:{maxWidth:345},xs:8,children:Object(I.jsxs)(ce.a,{children:[Object(I.jsx)(oe.a,{avatar:Object(I.jsx)(ie.a,{sx:{bgcolor:de.a[500]},"aria-label":"recipe",children:t.username.charAt(0)}),action:p&&("Both"!==p.result.role?"Seller"===p.result.role&&p.result._id===t.creator:"Seller"===p.currentRole&&p.result._id===t.creator)?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(se.a,{id:"demo-customized-button","aria-controls":"demo-customized-menu","aria-haspopup":"true",style:{backgroundColor:"rebeccapurple"},"aria-expanded":l?"true":void 0,variant:"contained",disableElevation:!0,onClick:function(e){i(e.currentTarget)},endIcon:Object(I.jsx)(pe.a,{})}),Object(I.jsxs)(ye,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:c,open:l,onClose:u,children:[Object(I.jsxs)(X.a,{onClick:u,disableRipple:!0,children:[Object(I.jsx)(be.a,{}),"End Bid"]}),Object(I.jsxs)(X.a,{onClick:u,disableRipple:!0,children:[Object(I.jsx)(Oe.a,{}),"Edit"]}),Object(I.jsxs)(X.a,{onClick:u,disableRipple:!0,children:[Object(I.jsx)(he.a,{}),"Delete"]})]})]}):Object(I.jsx)(I.Fragment,{}),title:(t.businessName?t.businessName:"".concat(t.fullname,"(").concat(t.username,")"))+" - ".concat(t.location),subheader:t.bakedTime.split("T")[0]}),Object(I.jsx)(le.a,{component:"img",height:"194",image:t.image,alt:"Paella dish"}),Object(I.jsxs)(ue.a,{className:S.description,children:[Object(I.jsx)(b.a,{variant:"h6",color:"text.secondary",children:t.title+" ("+t.egglessOrEgg+") ("+t.typeOfCookie+")"}),Object(I.jsx)(b.a,{variant:"body2",color:"text.secondary",children:t.description}),Object(I.jsxs)(ue.a,{children:[Object(I.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:["Minimum Asking Price - ",t.minAskingPrice]}),Object(I.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:["Current Highest Bid - ",t.highestBid]}),Object(I.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:["Baked Time - ",t.bakedTime.split("T")[0]]})]})]}),Object(I.jsxs)(je.a,{disableSpacing:!0,children:[Object(I.jsxs)(se.a,{onClick:function(){p?(k(function(e,t){return function(){var n=Object(A.a)(q.a.mark((function n(a){return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L(e);case 3:a({type:"LIKE"}),t.push("/posts"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t._id,w)),x.includes(p.result._id)?f(t.likes.filter((function(e){return e!==p.result._id}))):f([].concat(Object(re.a)(t.likes),[p.result._id]))):console.log("unauthenticated")},"aria-label":"add to favorites",children:[Object(I.jsx)(me.a,{})," ","   "+x.length]}),p&&p.result._id!==t.creator&&("Buyer"===p.result.role||"Both"===p.result.role&&"Buyer"===p.currentRole)&&t.stillBidding?t.bidList.filter((function(e){return e[0]===p.result._id})).length?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(j.a,{onClick:function(){k(function(e,t,n){return function(){var a=Object(A.a)(q.a.mark((function a(r){return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_(e,t);case 3:a.sent,r({type:y}),n.push("/posts"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(t._id,p.result._id,w)),window.location.reload()},children:"Remove Bid"})}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(function(e,t,n,a){return function(){var r=Object(A.a)(q.a.mark((function r(c){return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R(e,t,n);case 3:r.sent,c({type:v}),console.log("I am here atleast"),a.push("/posts"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(t._id,p.result._id,e.target.elements.newBid.value,w)),window.location.reload()},style:{display:"flex"},children:[Object(I.jsx)(Y.a,{type:"number",name:"newBid",defaultValue:C,InputProps:{inputProps:{min:C}},label:"Place Bid"}),Object(I.jsx)(j.a,{type:"submit",value:"Submit",children:"Submit"})]})}):Object(I.jsx)(I.Fragment,{})]})]})})}var ke=864e5,we=function(){var e,t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({typeOfCookie:"any",location:"any",bakedTime:"any",egglessOrEgg:"any"}),l=Object(o.a)(i,2),u=l[0],d=(l[1],Object(a.useState)([])),b=Object(o.a)(d,2),h=b[0],m=b[1],g=Object(O.c)((function(e){return e.posts})),x=g.posts,f=g.loaded,v=Object(O.b)(),y=Object(s.f)();Object(a.useEffect)((function(){v(W(y))}),[]);return Object(I.jsx)("div",{children:f&&x.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a,{children:Object(I.jsxs)("form",{onSubmit:function(e){var t=e.target.elements;e.preventDefault(),Object.keys(u).forEach((function(e){t[e].value&&"any"!==t[e].value&&("bakedTime"===e?(console.log(t[e].value),x="day"===t[e].value?x.filter((function(e){return((new Date).getTime()-new Date(e.bakedTime).getTime())/ke<1})):"week"===t[e].value?x.filter((function(e){return((new Date).getTime()-new Date(e.bakedTime).getTime())/(7*ke)<1})):x.filter((function(e){return((new Date).getTime()-new Date(e.bakedTime).getTime())/(7*ke)>=1}))):x=x.filter((function(n){return n[e]===t[e].value})))})),console.log(x),c("true"),m(x)},style:{display:"flex"},children:[Object(I.jsx)(Y.a,{name:"typeO fCookie",type:"text",placeholder:"type"}),Object(I.jsx)(Y.a,{name:"location",type:"text",placeholder:"location"}),Object(I.jsx)(K.a,{id:"demo-simple-select-label",children:"Baked Time"}),Object(I.jsxs)(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"bakedTime",label:"Baked Time",children:[Object(I.jsx)(X.a,{value:"any",children:"any"}),Object(I.jsx)(X.a,{value:"day",children:"less than a day ago"}),Object(I.jsx)(X.a,{value:"week",children:"less than a week ago"}),Object(I.jsx)(X.a,{value:"morethanaweek",children:"more than a week ago."})]}),Object(I.jsx)($.a,{component:"legend",children:"Egg or Eggless"}),Object(I.jsxs)(ee.a,{row:!0,"aria-label":"egglessOrEgg",name:"egglessOrEgg",children:[Object(I.jsx)(te.a,{value:"egg",control:Object(I.jsx)(ne.a,{}),label:"egg"}),Object(I.jsx)(te.a,{value:"eggLess",control:Object(I.jsx)(ne.a,{}),label:"eggLess"}),Object(I.jsx)(te.a,{value:"",control:Object(I.jsx)(ne.a,{}),label:"any"})]}),Object(I.jsx)(j.a,{color:"primary",variant:"contained",type:"submit",children:"Filter"})]})}),Object(I.jsx)(ae.a,{container:!0,margin:1,padding:2,spacing:2,style:{backgroundColor:"rebeccapurple",height:"100vh"},children:null===(e=r?h:x)||void 0===e?void 0:e.map((function(e){return Object(I.jsx)(Se,{post:e},e._id)}))})]}):Object(I.jsx)(Z.a,{})})},Ce=n(107),Be=n.n(Ce),Ee={title:"",description:"",image:"",message:"",fullname:"",creator:"",minAskingPrice:0,highestBid:0,biddingEnd:new Date,location:"",typeOfCookie:"",egglessOrEgg:""},Ie=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile")).result),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(s.f)()),c=Object(O.b)(),i=Object(a.useState)(Ee),u=Object(o.a)(i,2),j=u[0],d=u[1];Object(a.useEffect)((function(){j&&d(j)}),[j]);var p=function(e){d(Object(l.a)(Object(l.a)({},j),{},Object(M.a)({},e.target.name,e.target.value)))};return Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=j,a=e.target.elements,o=Object.keys(a);Object.keys(Ee).forEach((function(e){o.includes(e)&&(t[e]=a[e].value)})),t.highestBid=t.minAskingPrice,t.fullname=n.fullname,t.username=n.username,t.creator=n._id,d(t),c(function(e,t){return function(){var n=Object(A.a)(q.a.mark((function n(a){var r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c=e,D.post("/posts/create",c);case 3:r=n.sent,a({type:h,payload:r.data}),t.push("/posts"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}var c}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(j,r))},method:"post",children:[Object(I.jsx)("input",{type:"text",name:"title",placeholder:"title",onChange:p,required:!0}),Object(I.jsx)("input",{type:"text",name:"description",placeholder:"description",required:!0}),Object(I.jsx)(Be.a,{multiple:!0,onDone:function(e){d(Object(l.a)(Object(l.a)({},j),{},{image:e[0].base64}))}}),Object(I.jsx)("input",{type:"text",name:"message",placeholder:"message",onChange:p,required:!0}),Object(I.jsx)("input",{type:"number",name:"minAskingPrice",placeholder:"Minimum Asking Price(MAP)",onChange:p,required:!0}),Object(I.jsx)("input",{type:"date",name:"biddingEnd",onChange:p,required:!0}),Object(I.jsx)("input",{type:"text",name:"location",min:new Date,onChange:p,placeholder:"location",required:!0}),Object(I.jsx)("input",{type:"text",name:"typeOfCookie",onChange:p,placeholder:"cookie",required:!0}),Object(I.jsxs)("label",{htmlFor:"egg",children:["Egg",Object(I.jsx)("input",{type:"radio",name:"egglessOrEgg",id:"egg",onChange:function(e){return d(Object(l.a)(Object(l.a)({},j),{},{egglessOrEgg:e.target.value}))},value:"egg"})]}),Object(I.jsxs)("label",{htmlFor:"eggless",children:["Eggless",Object(I.jsx)("input",{type:"radio",name:"egglessOrEgg",id:"eggless",onChange:function(e){return d(Object(l.a)(Object(l.a)({},j),{},{egglessOrEgg:e.target.value}))},value:"eggless"})]}),Object(I.jsx)("input",{type:"submit",value:"Create"})]})},Te=function(){return Object(I.jsx)("div",{children:"UpdatePost"})},Ne=function(){return Object(I.jsx)("div",{children:"Home"})},qe=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(O.c)((function(e){var t=e.posts;return t.posts=t.posts.filter((function(e){return e.creator===n.result._id})),t}))),c=r.posts,i=r.loaded,l=Object(O.b)(),u=Object(s.f)();return Object(a.useEffect)((function(){l(W(u,"/posts/viewAuctions"))}),[]),Object(I.jsx)("div",{children:i&&c.length?Object(I.jsx)(ae.a,{container:!0,padding:2,spacing:2,style:{backgroundColor:"rebeccapurple",height:"100vh"},children:null===c||void 0===c?void 0:c.map((function(e){return Object(I.jsx)(Se,{post:e},e._id)}))}):Object(I.jsx)(Z.a,{})})},Ae=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){window.addEventListener("storage",(function(){r(JSON.parse(localStorage.getItem("profile")))}))}),[]),Object(I.jsx)(i.a,{children:Object(I.jsxs)(E.Provider,{value:{user:n,setUser:r},children:[Object(I.jsx)(T,{}),Object(I.jsxs)(s.c,{children:[Object(I.jsx)(s.a,{path:"/posts/create",exact:!0,component:Ie}),Object(I.jsx)(s.a,{path:"/posts/viewAuctions",exact:!0,component:qe}),Object(I.jsx)(s.a,{path:"/posts/update",exact:!0,component:Te}),Object(I.jsx)(s.a,{path:"/posts",exact:!0,component:we}),Object(I.jsx)(s.a,{path:"/user/login",exact:!0,component:V}),Object(I.jsx)(s.a,{path:"/user/register",exact:!0,component:U}),Object(I.jsx)(s.a,{path:"/user/updateProfile",exact:!0,component:H}),Object(I.jsx)(s.a,{path:"/user/login",exact:!0,component:V}),Object(I.jsx)(s.a,{path:"/",exact:!0,component:Ne})]})]})})},Pe=n(57),De=n(108),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[],loaded:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{loaded:!1});case k:return Object(l.a)(Object(l.a)({},e),{},{loaded:!0});case m:case h:return Object(l.a)(Object(l.a)({},e),{},{posts:t.payload});default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case f:return localStorage.setItem("profile",JSON.stringify(Object(l.a)(Object(l.a)({},null===t||void 0===t?void 0:t.payload),{},{currentRole:"Buyer"}))),Object(l.a)(Object(l.a)({},e),{},{user:t.payload,loading:!1,errors:null});case x:return localStorage.clear(),Object(l.a)(Object(l.a)({},e),{},{user:null,loading:!1,errors:null});default:return e}},Re=Object(Pe.b)({posts:Fe,user:Le}),_e=Object(Pe.d)(Re,Object(Pe.c)(Object(Pe.a)(De.a)));c.a.render(Object(I.jsx)(O.a,{store:_e,children:Object(I.jsx)(Ae,{})}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.935c5776.chunk.js.map